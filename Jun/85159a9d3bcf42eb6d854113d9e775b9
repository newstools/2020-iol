WASHINGTON- The US Supreme Court on Thursday dealt President Donald Trump a major setback on his hardline immigration policies, blocking his bid to end a program that protects from deportation hundreds of thousands of immigrants - often called "Dreamers" - who entered the United States illegally as children. The justices on a 5-4 vote upheld lower court rulings that found that Trump's 2017 move to rescind the Deferred Action for Childhood Arrivals (DACA) program, created in 2012 by his Democratic predecessor Barack Obama, was unlawful. Conservative Chief Justice John Roberts joined the court's four liberals in finding that the administration's actions were "arbitrary and capricious" under a federal law called the Administrative Procedure Act. The ruling means that the roughly 649,000 immigrants, mostly young Hispanic adults born in Mexico and other Latin American countries, currently enrolled in DACA will remain protected from deportation and eligible to obtain renewable two-year work permits. The ruling does not prevent Trump from trying again to end the program. But his administration is unlikely to be able to end DACA before the Nov. 3 election in which Trump is seeking a second four-year term in office. "We do not decide whether DACA or its rescission are sound policies. We address only whether the agency complied with the procedural requirement that it provide a reasoned explanation for its action," Roberts wrote. The ruling marks the second time this week that Roberts has ruled against Trump in a major case following Monday's decision finding that gay and transgender workers are protected under federal employment law. "These horrible & politically charged decisions coming out of the Supreme Court are shotgun blasts into the face of people that are proud to call themselves Republicans or Conservatives," Trump wrote on Twitter after the DACA ruling. The court's four other conservatives including two Trump appointees, Neil Gorsuch and Brett Kavanaugh, dissented. "Today's decision must be recognized for what it is: an effort to avoid a politically controversial but legally correct decision," Justice Clarence Thomas wrote in dissent. Thomas, whose dissent was joined by Gorsuch and Justice Samuel Alito, said DACA itself was "substantively unlawful." Trump's administration has argued that Obama exceeded his constitutional powers when he created DACA by executive action, bypassing Congress. A collection of states including California and New York, people currently enrolled in DACA and civil rights groups all filed suit to block Trump's plan to end the program. Lower courts in California, New York and the District of Columbia ruled against Trump and left DACA in place, finding that his move to revoke the program violated the Administrative Procedure Act. Only one justice, liberal Sonia Sotamayor, embraced arguments made by plaintiffs that the policy may have been motivated by discriminatory bias against immigrants. Sotamayor is the court's first Hispanic justice. Trump has made his crackdown on legal and illegal immigration, including pursuing construction of a wall along the U.S.-Mexican border, a central part of his presidency and his 2020 re-election campaign.  'I FEEL CONTENT' DACA recipients and their supporters in Congress including House of Representatives Speaker Nancy Pelosi and in the business community welcomed the ruling and called for permanent protections to be enacted. "I feel content. I think the decision was what we deserved, but at the same time I am also thinking we still have to defend the program," said Melody Klingenfuss, a 26-year-old DACA recipient and organizer with the California Dream Network. Roberts a year ago also cast the decisive vote in a Supreme Court loss for the Republican president when the justices blocked Trump's administration from adding a citizenship question to the 2020 census that critics said was an effort to dissuade immigrants from taking part in the decennial population count. That case raised similar questions about whether Trump's administration followed lawful procedures in a reaching policy decision. Immigrants had to meet certain conditions to qualify for DACA enrollment such as not being convicted of a felony or significant misdemeanor and being enrolled in high school or having a high school diploma or equivalent. Government figures show that upwards of 95 percent of current enrollees were born in Latin America, including 80 percent from Mexico, followed by El Salvador, Guatemala and Honduras. Nearly half live in California and Texas. The average age of DACA enrollees is 26. Obama created the DACA program after Congress failed to pass bipartisan legislation that would have overhauled U.S. immigration policy and offered protections for the immigrants known as "Dreamers," a moniker derived from the name of an immigration bill. The young immigrants for whom the program was devised, Obama said, were raised and educated in the United States, grew up as Americans and often know little about their countries of origin. After Thursday's ruling, Obama wrote on Twitter, "We may look different and come from everywhere, but what makes us American are our shared ideals."